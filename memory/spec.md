# ジュデーン 仕様書

## 概要
Zoom Phoneの通話ログCSVを解析し、**折り返しがされていない不在着信**を抽出するWebアプリケーション。

## アプリ名
**ジュデーン**（ウルトラ怪獣のイメージ）

## デザイン要件
- 背景色：黒
- テーマ：ウルトラ怪獣のイメージ（赤系のアクセント）
- フッタ：「タマシステム 2025」

## 機能要件

### 入力
- Zoom PhoneのCSVログファイルをアップロード

### 処理ロジック

#### CSVの列構造（0始まり）
- 列A (0): 番号
- 列B (1): 通話方向
- 列C (2): コール ID
- 列D (3): 発信元の名前
- 列E (4): 発信元のメールアドレス
- 列F (5): 発信元の内線
- 列G (6): 発信元の電話番号
- 列H (7): 発信先の名前（着信時これがコールキュー）
- 列I (8): 発信先のメールアドレス
- 列J (9): 発信先の内線
- 列K (10): 発信先の電話番号
- 列L (11): オペレーターの名前
- 列M (12): オペレーターの内線
- 列N (13): タイプ
- 列O (14): 開始時間
- 列P (15): イベント
- 列Q (16): 通話結果（放棄済み等）
- 列R (17): 通話時間
- 列S (18): 待機時間

#### 不在入電の定義
以下の3条件を**すべて**満たすレコード：
1. B列（通話方向） = 「着信」
2. Q列（通話結果） = 「放棄済み」
3. S列（待機時間） ≠ 「--」

#### 着信時のコールキュー
- H列（発信先の名前）がコールキュー名となる

#### 折り返し済みの定義
不在入電の時間**以降**に以下の条件を満たすレコードが存在する：
1. B列（通話方向） = 「発信」
2. G列（発信元の電話番号） = 不在着信の発信元電話番号
3. D列（発信元の名前） = 不在着信のコールキュー（H列）と同一

### 出力
折り返しができていない不在着信のリスト：
1. 開始時間
2. 発信元の電話番号（頭の81を0に変換）
3. かかってきたコールキュー

### UI機能
- Excel/スプレッドシートに貼れる形式で出力
- コピーボタンでクリップボードにコピー

## 対応エンコーディング
- UTF-8
- Shift_JIS
- CP932
